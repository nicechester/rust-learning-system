<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Introduction</title>
</head>
<body>
<h1>Introduction</h1>
<h2>Using <code>Box&lt;T&gt;</code> to Point to Data on the Heap</h2>
<p>The most straightforward smart pointer is a box, whose type is written
<code>Box&lt;T&gt;</code>. <em>Boxes</em> allow you to store data on the heap rather than the stack.
What remains on the stack is the pointer to the heap data. Refer to Chapter 4
to review the difference between the stack and the heap.</p>
<p>Boxes don’t have performance overhead, other than storing their data on the
heap instead of on the stack. But they don’t have many extra capabilities
either. You’ll use them most often in these situations:</p>
<ul>
<li>When you have a type whose size can’t be known at compile time, and you want
  to use a value of that type in a context that requires an exact size</li>
<li>When you have a large amount of data, and you want to transfer ownership but
  ensure that the data won’t be copied when you do so</li>
<li>When you want to own a value, and you care only that it’s a type that
  implements a particular trait rather than being of a specific type</li>
</ul>
<p>We’ll demonstrate the first situation in <a href="#enabling-recursive-types-with-boxes">“Enabling Recursive Types with
Boxes”</a><!-- ignore -->. In the second
case, transferring ownership of a large amount of data can take a long time
because the data is copied around on the stack. To improve performance in this
situation, we can store the large amount of data on the heap in a box. Then,
only the small amount of pointer data is copied around on the stack, while the
data it references stays in one place on the heap. The third case is known as a
<em>trait object</em>, and [“Using Trait Objects to Abstract over Shared
Behavior”][trait-objects]<!-- ignore --> in Chapter 18 is devoted to that
topic. So, what you learn here you’ll apply again in that section!</p>
<!-- Old headings. Do not remove or links may break. -->

<p><a id="using-boxt-to-store-data-on-the-heap"></a></p>
</body>
</html>