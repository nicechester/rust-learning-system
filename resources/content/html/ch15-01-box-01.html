<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Storing Data on the Heap</title>
</head>
<body>
<h1>Storing Data on the Heap</h1>
<p>Before we discuss the heap storage use case for <code>Box&lt;T&gt;</code>, we’ll cover the
syntax and how to interact with values stored within a <code>Box&lt;T&gt;</code>.</p>
<p>Listing 15-1 shows how to use a box to store an <code>i32</code> value on the heap.</p>
<p><Listing number="15-1" file-name="src/main.rs" caption="Storing an <code>i32</code> value on the heap using a box"></p>
<pre><code class="language-rust">{{#rustdoc_include ../listings/ch15-smart-pointers/listing-15-01/src/main.rs}}
</code></pre>
<p></Listing></p>
<p>We define the variable <code>b</code> to have the value of a <code>Box</code> that points to the
value <code>5</code>, which is allocated on the heap. This program will print <code>b = 5</code>; in
this case, we can access the data in the box similarly to how we would if this
data were on the stack. Just like any owned value, when a box goes out of
scope, as <code>b</code> does at the end of <code>main</code>, it will be deallocated. The
deallocation happens both for the box (stored on the stack) and the data it
points to (stored on the heap).</p>
<p>Putting a single value on the heap isn’t very useful, so you won’t use boxes by
themselves in this way very often. Having values like a single <code>i32</code> on the
stack, where they’re stored by default, is more appropriate in the majority of
situations. Let’s look at a case where boxes allow us to define types that we
wouldn’t be allowed to define if we didn’t have boxes.</p>
</body>
</html>